<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>webuploader 测试</title>
    <link rel="stylesheet" href="../../static/module/jqueryui/jquery-ui.css">
    <link rel="stylesheet" href="../../static/css/lib/font-awesome.css">
    <link rel="stylesheet" href="../../static/module/datetimepicker/jquery.datetimepicker.css">
    <link rel="stylesheet" href="../../static/module/chosen_v1.5.1/chosen.css">
    <link rel="stylesheet" href="../../static/module/webuploader/webuploader.css">
    <link rel="stylesheet" href="../../static/css/common/sjbase.css">
  </head>
  <body>

    <!-- tab组件 -->
    <div class="sj-tab">
      <div class="sj-tab__nav clearfix">
        <ul>
          <li class="sj-tab__nav__li sj-tab__nav__li--active">快报列表</li>
          <li class="sj-tab__nav__li">专题列表</li>
          <li class="sj-tab__nav__li">测试列表</li>
        </ul>
      </div>
      <div class="sj-tab__content">
        <div class="sj-tab__content__sub sj-tab__content__sub--active">
          <!-- start sub tab -->
          <div class="sj-tab">
            <div class="sj-tab__nav clearfix">
              <ul>
                <li class="sj-tab__nav__li sj-tab__nav__li--active">1-1</li>
                <li class="sj-tab__nav__li">1-2</li>
                <li class="sj-tab__nav__li">1-3</li>
              </ul>
            </div>
            <div class="sj-tab__content">
              <div class="sj-tab__content__sub sj-tab__content__sub--active">
                1-111
              </div>
              <div class="sj-tab__content__sub">1-222</div>
              <div class="sj-tab__content__sub">1-333</div>
            </div>
          </div>
          <!-- end sub tab -->
        </div>
        <div class="sj-tab__content__sub">222</div>
        <div class="sj-tab__content__sub">333</div>
      </div>
    </div>

    <!-- table 组件 -->
    <div style="width: 800px; margin: 0 auto;">
      <table border="0" cellpadding="0" class="sj-table" width="100%">
        <tr>
          <th>项目名称</th>
          <th>项目广告主</th>
          <th style="width: 200px;">广告类型</th>
          <th>投放时间</th>
          <th>状态</th>
          <th>消息操作</th>
        </tr>
        <tbody id="tableTbody">
          <tr class="{{i%2 ==0 ? '':'even'}}" data-id="{{item.id}}" data-value={{stringify(item)}}>
            <td>{{item.name}}</td>
            <td>{{item.advertiser && item.advertiser.name}}</td>
            <td>{{item.material && item.material.adType}}+{{item.material &&item.material.action}}</td>
            <td>2016/11/5 00:00:00 ~ 2016/11/6 00:00:00</td>
            <td>
              <span class="{{if item.status == '待发送'}} orange {{else if item.status == '发送中'}} blue {{else if item.status == '发送取消'}} gray {{else if item.status == '发送完成'}} green {{/if}}">
                {{item.status}}
              </span>
            </td>
            <td>
              <a href="#" class="ui-btn ui-btn-scan ui-btn-default">查看</a><br>
              <a href="#" class="ui-btn ui-btn-delay {{if item.status == '待发送'}} ui-btn-default{{else if item.status='发送中' }} ui-btn-default{{else}} ui-btn-cancel{{/if}}">取消</a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- 分页组件 -->
    <div class="sj-pager sj-pager1 no-select"></div>

    <!-- 日期选择组件 -->
    <input type="" name="" id="jqTimePicker1">

    <!-- art模板 -->
    <script id="tableTbodyTmpl" type="text/html">
      <tr class="123">
        <td>123</td>
        <td>456</td>
        <td>--</td>
        <td>2016/11/5 00:00:00 ~ 2016/11/6 00:00:00</td>
        <td>
          <span class="if item.status == '待发送' orange else if item.status == '发送中' blue else if item.status == '发送取消' gray else if item.status == '发送完成' green /if">
            item.status
          </span>
        </td>
        <td>
          <a href="#" class="ui-btn ui-btn-scan ui-btn-default">查看</a><br>
          <a href="#" class="ui-btn ui-btn-delay if item.status == '待发送' ui-btn-defaultelse if item.status='发送中'  ui-btn-defaultelse ui-btn-cancel/if">取消</a>
        </td>
      </tr>
    </script>

    <!-- chosen组件 -->

    <select id='scan-interval' name="scan-interval" class="chosen-select-single chosen-with-drop-up">
       <option value="86400">1天</option>
       <option value="604800" selected>1周</option>
       <option value="2592000">1月</option>
    </select>
    <select id='vdb-update' name="vdb-update" class="chosen-select-single">
       <option value="86400">1天</option>
       <option value="604800" selected>1周</option>
       <option value="2592000">1月</option>
    </select>


    <div class="sj-upload sj-upload1 clearfix">
        <div class="sj-upload__title fl">
            <label>请导入支付明细表：</label>
        </div>
        <div class="sj-upload__content fl">
            <div class="clearfix">
                <img src="../../static/img/loading.gif" class="sj-upload__content__icon">
                <input class="sj-upload__content__filename fl" value="" readonly="readonly" />
                <div class="fl sj-upload-inst"
                  data-wrap-file=".sj-upload1 .sj-upload__content__filename"
                  data-wrap-progress=".sj-upload1 .sj-upload__content__process"
                  data-wrap-result=".sj-upload1 .sj-upload__content__result"
                  data-server="/dynamicFields/finance_payFile"
                  data-accept-ext="png,img,jpg,gif"
                  data-file-size="5242880"
                  data-file-val="file"
                >
                  <i class="fa fa-upload" aria-hidden="true"></i>浏览文件
                </div>
            </div>
            <div class="clearfix">
                <div class="sj-upload__content__process"></div>
                <div class="sj-upload__content__result"></div>
            </div>
        </div>
    </div>

    <script type="text/javascript" src="./stc.js"></script>
    <script type="text/javascript">

      // 分页组件
      var pager1 = new $.Pager('.sj-pager1', {
        currentPage: 1,
        totalPage: 10
      });

      pager1.listen('onPageChanged', function(event, data) {
        console.log(data);
      });

      // 日期组件
      $('#jqTimePicker1').datetimepicker({
        dayOfWeekStart : 1,
        value: moment().format('YYYY-MM-DD H:mm:ss'),
        format: 'Y-m-d H:i:s',
        minDate:'2013/12/03',
        maxDate:'2017/3/03',
        startDate: new Date(), //'1987/12/03'
        //value: moment().format('YYYY-MM-DD'),
        //timepicker: false,
        //step: 10
        // onSelectDate: function(ct,$input){
        //   console.log(moment(ct).format('YYYY-MM-DD H:mm:ss'));
        //   $input.datetimepicker('hide');
        // },
        // onSelectTime: function(current_time,$input){
        //   console.log(moment(current_time).format('YYYY-MM-DD H:mm:ss'));
        //   $input.datetimepicker('hide');
        // },
        // onShow: function(current_time,$input){
        //   console.log('show');
        // },
        // onClose: function(current_time,$input){
        //   console.log('hide');
        // },
        closeOnDateSelect: true,
        //opened: true,
      });

      // art Template
      $('#tableTbody').html(art('tableTbodyTmpl', {}));

      // chosen 组件
      var chosenList = $.chosen(['scan-interval','vdb-update'],{
        conf:{
          width:'77px'
        },
        events:{
          onchange:function(evt,selected){
            console.log(selected);
          }
        }
      });
    </script>

    <script type="text/javascript">
      $.uploader('.sj-upload1 .sj-upload-inst', {});
    </script>
  </body>
</html>
